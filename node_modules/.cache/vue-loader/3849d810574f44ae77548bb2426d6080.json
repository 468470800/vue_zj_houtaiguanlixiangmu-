{"remainingRequest":"D:\\作业1\\vue.4.5.4\\vue2\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\作业1\\vue.4.5.4\\vue2\\src\\views\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\作业1\\vue.4.5.4\\vue2\\src\\views\\login\\index.vue","mtime":1599497764820},{"path":"D:\\作业1\\vue.4.5.4\\vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\作业1\\vue.4.5.4\\vue2\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\作业1\\vue.4.5.4\\vue2\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\作业1\\vue.4.5.4\\vue2\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBsb2dpbkFwaSBmcm9tICJAL2FwaS9sb2dpbiIKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJjb21wb25lbnRfbmFtZSIsCiAgICBjb21wb25lbnRzOiB7fSwKICAgIHByb3BzOiB7CiAgICAgICAgImF0dHJfbmFtZSI6IHsKICAgICAgICAgICAgdHlwZTogT2JqZWN0LAogICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgICAgICAgIGRlZmF1bHQ6ICgpID0+ICh7fSkKICAgICAgICB9CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBmb3JtOiB7CiAgICAgICAgICAgICAgICBuYW1lOiAiIiwKICAgICAgICAgICAgICAgIHBhc3M6ICIiLAogICAgICAgICAgICB9LAogICAgICAgICAgICBydWxlczogewogICAgICAgICAgICAgICAgbmFtZTogWwogICAgICAgICAgICAgICAgICAgIHtyZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuivt+i+k+WFpeacieaViOaJi+acuuWPt+eggSIsIHRyaWdnZXI6ICJibHVyIn0sCiAgICAgICAgICAgICAgICAgICAge21pbjogMywgbWF4OiAxMCwgbWVzc2FnZTogIumVv+W6pjbigJTigJQyMOS4quWtl+espiIsIHRyaWdnZXI6ICdibHVyJ30KICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBwYXNzOiBbCiAgICAgICAgICAgICAgICAgICAge3JlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6K+36L6T5YWl5pyJ5pWI5a+G56CBIiwgdHJpZ2dlcjogImJsdXIifSwKICAgICAgICAgICAgICAgICAgICB7bWluOiAzLCBtYXg6IDIwLCBtZXNzYWdlOiAi6ZW/5bqmNuKAlOKAlDIw5Liq5a2X56ymIiwgdHJpZ2dlcjogJ2JsdXInfQogICAgICAgICAgICAgICAgXQogICAgICAgICAgICB9LAoKICAgICAgICB9CiAgICB9LAogICAgd2F0Y2g6IHsKICAgICAgICBhKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICAgIH0sCiAgICAgICAgJ2IuYycobmV3VmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgICAgfQogICAgfSwKICAgIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgICAgICAvLyDlnKjmuLLmn5Por6Xnu4Tku7bnmoTlr7nlupTot6/nlLHooqsgY29uZmlybSDliY3osIPnlKgKICAgICAgICAvLyDkuI3vvIHog73vvIHojrflj5bnu4Tku7blrp7kvosgYHRoaXNgCiAgICAgICAgLy8g5Zug5Li65b2T6ZKp5a2Q5omn6KGM5YmN77yM57uE5Lu25a6e5L6L6L+Y5rKh6KKr5Yib5bu6CiAgICAgICAgbmV4dCgpCiAgICB9LAogICAgYmVmb3JlUm91dGVVcGRhdGUodG8sIGZyb20sIG5leHQpIHsKICAgICAgICAvLyDlnKjlvZPliY3ot6/nlLHmlLnlj5jvvIzkvYbmmK/or6Xnu4Tku7booqvlpI3nlKjml7bosIPnlKgKICAgICAgICAvLyDkuL7kvovmnaXor7TvvIzlr7nkuo7kuIDkuKrluKbmnInliqjmgIHlj4LmlbDnmoTot6/lvoQgL2Zvby86aWTvvIzlnKggL2Zvby8xIOWSjCAvZm9vLzIg5LmL6Ze06Lez6L2s55qE5pe25YCZ77yMCiAgICAgICAgLy8g55Sx5LqO5Lya5riy5p+T5ZCM5qC355qEIEZvbyDnu4Tku7bvvIzlm6DmraTnu4Tku7blrp7kvovkvJrooqvlpI3nlKjjgILogIzov5nkuKrpkqnlrZDlsLHkvJrlnKjov5nkuKrmg4XlhrXkuIvooqvosIPnlKjjgIIKICAgICAgICAvLyDlj6/ku6Xorr/pl67nu4Tku7blrp7kvosgYHRoaXNgCiAgICAgICAgbmV4dCgpCiAgICB9LAogICAgYmVmb3JlUm91dGVMZWF2ZSh0bywgZnJvbSwgbmV4dCkgewogICAgICAgIC8vIOWvvOiIquemu+W8gOivpee7hOS7tueahOWvueW6lOi3r+eUseaXtuiwg+eUqAogICAgICAgIC8vIOWPr+S7peiuv+mXrue7hOS7tuWunuS+iyBgdGhpc2AKICAgICAgICBuZXh0KCkKICAgIH0sCiAgICAvLyDlnKjlrp7kvovliJ3lp4vljJbkuYvlkI7vvIzmlbDmja7op4LmtYsgKGRhdGEgb2JzZXJ2ZXIpIOWSjCBldmVudC93YXRjaGVyIOS6i+S7tumFjee9ruS5i+WJjeiiq+iwg+eUqAogICAgYmVmb3JlQ3JlYXRlKCkgewogICAgfSwKICAgIC8vIOWunuS+i+WIm+W7uuWujOaIkOWQjuiiq+eri+WNs+iwg+eUqAogICAgY3JlYXRlZCgpIHsKICAgICAgICAvLyB0aGlzLickJ3NldCh0aGlzLickJ2RhdGEsICJhdHRyTmFtZSIsICJ2YWx1ZSIpCiAgICB9LAogICAgLy8g5oyC6L295Yiw5a6e5L6L5LiK5Y675LmL5ZCO6LCD55So6K+l6ZKp5a2QCiAgICBtb3VudGVkKCkgewogICAgICAgIC8vIOazqOaEjyBtb3VudGVkIOS4jeS8muaJv+ivuuaJgOacieeahOWtkOe7hOS7tuS5n+mDveS4gOi1t+iiq+aMgui9veOAguWmguaenOS9oOW4jOacm+etieWIsOaVtOS4quinhuWbvumDvea4suafk+WujOavle+8jOWPr+S7peeUqCB2bS5uZXh0VGljayDmm7/mjaLmjokgbW91bnRlZAogICAgICAgIC8vIHRoaXMuJyQnbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIC8vIH0pCiAgICB9LAogICAgLy8g6K6h566X5bGe5oCnCiAgICBjb21wdXRlZDogewogICAgICAgIC8vIOS7heivu+WPlgogICAgICAgIGFEb3VibGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuYSAqIDIKICAgICAgICB9LAogICAgICAgIC8vIOivu+WPluWSjOiuvue9rgogICAgICAgIGFQbHVzOiB7CiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYSArIDEKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodikgewogICAgICAgICAgICAgICAgdGhpcy5hID0gdiAtIDEKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICAvLyB2bS5hUGx1cyAvLyA9PiAyCiAgICAgICAgLy8gdm0uYVBsdXMgPSAzCiAgICAgICAgLy8gdm0uYSAvLyA9PiAyCiAgICAgICAgLy8gdm0uYURvdWJsZSAvLyA9PiA0CiAgICB9LAogICAgLy8g5LqL5Lu26ZuG5ZCICiAgICBtZXRob2RzOiB7CiAgICAgICAgc3VibWl0Rm9ybShmb3JtTmFtZSkgewogICAgICAgICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZSgodmFsaWQpID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbGlkKTsKICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIC8v6LCD55So55m75b2V5o6l5Y+jCiAgICAgICAgICAgICAgICAgICAgbG9naW5BcGkubG9naW4odGhpcy5mb3JtLm5hbWUsIHRoaXMuZm9ybS5wYXNzKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IHJlcy5kYXRhLmRhdGEuY29kZTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+iOt+WPlnRva2VuCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IHJlcy5kYXRhLmRhdGEuZGF0YS50b2tlbjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v5ZCndG9rZW7lrZjlgqjliLDmnKzlnLAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ5eV90b2tlbiIsIHRva2VuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8v6I635Y+W55So5oi35L+h5oGvCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dpbkFwaS5nZXRVc2VySW5mbygpLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwID0gcmVzLmRhdGEuZGF0YTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcC5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+WwhuiOt+WPluWIsOeahOeUqOaIt+S/oeaBr+S/neWtmOWIsOacrOWcsAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgianlfaW5mbyIsIEpTT04uc3RyaW5naWZ5KHJlc3AuZGF0YSkpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL+i3s+i9rOWIsOmmlumhtQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7cGF0aDogIi8ifSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXlpLHotKUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfnmbvlvZXlpLHotKUnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiZXJyb3Igc3VibWl0IikKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSwKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/login","sourcesContent":["<template>\r\n    <div class=\"login-container\">\r\n        <div class=\"login-from\">\r\n            <h2>集运后台管理系统</h2>\r\n            <el-form ref=\"form\" :rules=\"rules\" :model=\"form\" label-width=\"90px\">\r\n                <el-form-item label=\"账号\" prop=\"name\">\r\n                    <el-input v-model=\"form.name\" placeholder=\"账号\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"密码\" prop=\"pass\">\r\n                    <el-input v-model=\"form.pass\" type=\"password\" placeholder=\"密码\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item>\r\n                    <el-button type=\"primary\" @click=\"submitForm('form')\">登录</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import loginApi from \"@/api/login\"\r\n\r\n    export default {\r\n        name: \"component_name\",\r\n        components: {},\r\n        props: {\r\n            \"attr_name\": {\r\n                type: Object,\r\n                required: false,\r\n                default: () => ({})\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                form: {\r\n                    name: \"\",\r\n                    pass: \"\",\r\n                },\r\n                rules: {\r\n                    name: [\r\n                        {required: true, message: \"请输入有效手机号码\", trigger: \"blur\"},\r\n                        {min: 3, max: 10, message: \"长度6——20个字符\", trigger: 'blur'}\r\n                    ],\r\n                    pass: [\r\n                        {required: true, message: \"请输入有效密码\", trigger: \"blur\"},\r\n                        {min: 3, max: 20, message: \"长度6——20个字符\", trigger: 'blur'}\r\n                    ]\r\n                },\r\n\r\n            }\r\n        },\r\n        watch: {\r\n            a(newValue, oldValue) {\r\n            },\r\n            'b.c'(newValue, oldValue) {\r\n            }\r\n        },\r\n        beforeRouteEnter(to, from, next) {\r\n            // 在渲染该组件的对应路由被 confirm 前调用\r\n            // 不！能！获取组件实例 `this`\r\n            // 因为当钩子执行前，组件实例还没被创建\r\n            next()\r\n        },\r\n        beforeRouteUpdate(to, from, next) {\r\n            // 在当前路由改变，但是该组件被复用时调用\r\n            // 举例来说，对于一个带有动态参数的路径 /foo/:id，在 /foo/1 和 /foo/2 之间跳转的时候，\r\n            // 由于会渲染同样的 Foo 组件，因此组件实例会被复用。而这个钩子就会在这个情况下被调用。\r\n            // 可以访问组件实例 `this`\r\n            next()\r\n        },\r\n        beforeRouteLeave(to, from, next) {\r\n            // 导航离开该组件的对应路由时调用\r\n            // 可以访问组件实例 `this`\r\n            next()\r\n        },\r\n        // 在实例初始化之后，数据观测 (data observer) 和 event/watcher 事件配置之前被调用\r\n        beforeCreate() {\r\n        },\r\n        // 实例创建完成后被立即调用\r\n        created() {\r\n            // this.'$'set(this.'$'data, \"attrName\", \"value\")\r\n        },\r\n        // 挂载到实例上去之后调用该钩子\r\n        mounted() {\r\n            // 注意 mounted 不会承诺所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以用 vm.nextTick 替换掉 mounted\r\n            // this.'$'nextTick(function () {\r\n            // })\r\n        },\r\n        // 计算属性\r\n        computed: {\r\n            // 仅读取\r\n            aDouble: function () {\r\n                return this.a * 2\r\n            },\r\n            // 读取和设置\r\n            aPlus: {\r\n                get: function () {\r\n                    return this.a + 1\r\n                },\r\n                set: function (v) {\r\n                    this.a = v - 1\r\n                }\r\n            }\r\n            // vm.aPlus // => 2\r\n            // vm.aPlus = 3\r\n            // vm.a // => 2\r\n            // vm.aDouble // => 4\r\n        },\r\n        // 事件集合\r\n        methods: {\r\n            submitForm(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    console.log(valid);\r\n                    if (valid) {\r\n                        //调用登录接口\r\n                        loginApi.login(this.form.name, this.form.pass).then(res => {\r\n                            console.log(res)\r\n                            const code = res.data.data.code;\r\n                            if (code == 200) {\r\n                                //获取token\r\n                                const token = res.data.data.data.token;\r\n                                //吧token存储到本地\r\n                                localStorage.setItem(\"yy_token\", token);\r\n                                //获取用户信息\r\n                                loginApi.getUserInfo().then(res => {\r\n                                    const resp = res.data.data;\r\n                                    if (resp.code == 200) {\r\n                                        //将获取到的用户信息保存到本地\r\n                                        localStorage.setItem(\"jy_info\", JSON.stringify(resp.data));\r\n                                        //跳转到首页\r\n                                        this.$router.push({path: \"/\"})\r\n                                    } else {\r\n                                        this.$message({\r\n                                            message: '登录失败',\r\n                                            type: 'warning'\r\n                                        })\r\n                                    }\r\n                                })\r\n                            } else {\r\n                                this.$message({\r\n                                    message: '登录失败',\r\n                                    type: 'warning'\r\n                                })\r\n                            }\r\n                        }).catch(err => {\r\n                            console.log(err)\r\n                        })\r\n                    } else {\r\n                        console.log(\"error submit\")\r\n                        return false;\r\n                    }\r\n                })\r\n            }\r\n        },\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .login-container {\r\n        overflow: hidden;\r\n        width: 100%;\r\n        height: 100%;\r\n        position: absolute;\r\n        background: url(\"http://mengxuegu.com:9999/img/login.b665435f.jpg\") 0 0 no-repeat;\r\n        background-size: 100% 1200px;\r\n    }\r\n\r\n    .login-from {\r\n        width: 350px;\r\n        padding: 30px;\r\n        background: rgba(255, 255, 255, 0.6);\r\n        border-radius: 8px;\r\n        margin: 320px auto;\r\n    }\r\n\r\n    .login-from h2 {\r\n        text-align: center;\r\n        font-family: 新宋体;\r\n    }\r\n</style>\r\n"]}]}